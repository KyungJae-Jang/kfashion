<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head">
</head>
<body class="bg-light">
    <div th:replace="fragments :: navbar"></div>
    <div class="container">
        <div class="py-5 text-center">
            <h2>게시글</h2>
        </div>
        <div class="row justify-content-center mb-4">
            <div class="col-lg-8 px-0">
                <h4 th:text="${board.getSubject()}">제목</h4>
            </div>
        </div>
        <div class="row justify-content-center mb-2">
            <div class="col-lg-2"></div>
            <div class="col-auto mr-auto px-0">
                &#183; <span th:text="${board.getNickname()}">작성자</span>
            </div>
            <div class="col-auto px-0">
                &#183; <span th:text="${board.getStringPostingTime()}">작성시간</span>
                &#183; 조회수 <span th:text="${board.getView()}">조회</span>
            </div>
            <div class="col-lg-2"></div>
        </div>
        <div class="row justify-content-center my-2">
            <div class="col-lg-8">
                <img src="https://via.placeholder.com/150" class="img-fluid"
                     th:src="${board.getImage()}"  alt="Responsive image"/>
            </div>
        </div>
        <!-- contents -->
        <div class="row justify-content-center mt-2">
            <div class="col-lg-8 px-0 pt-2 border-top">
                <p th:utext="*{#strings.replace(board.getContents(),
                T(System).getProperty('line.separator'), '&lt;br /&gt;')}"></p>
            </div>
        </div>
        <!-- comment -->
        <form class="needs-validation" method="post" action="#" novalidate>
            <div class="row justify-content-center mt-2">
                <div class="col-lg-7 px-0 pt-2 border-top">
                    <input type="text" class="form-control" id="text"
                           aria-describedby="inputGroup-sizing-default">
                </div>
                <div class="col-lg-1 px-0 pt-2 border-top">
                    <button type="submit" class="btn btn-primary btn-block">등록</button>
                </div>
            </div>
        </form>
        <div class="row mt-4">
            <div class="col-lg-2"></div>
            <div class="col-auto mr-auto px-0">
                <a class="btn btn-primary active"
                   role="button" aria-pressed="true"
                   href="#" th:href="@{/board-write}">글쓰기</a>
                <a class="btn btn-primary active"
                   role="button" aria-pressed="true"
                   href="#">답글</a>
                <a class="btn btn-primary active"
                   role="button" aria-pressed="true"
                   href="#" th:href="@{'/board-' + ${board.getBoardName()}}">목록</a>
            </div>
            <div class="col-auto px-0">
                <a class="btn btn-primary active"
                   role="button" aria-pressed="true"
                   href="#" th:href="@{/board-update(boardId=${board.getId()})}">수정</a>
                <a class="btn btn-danger active"
                   role="button" aria-pressed="true"
                   data-toggle="modal" data-target="#myModal">삭제</a>
            </div>
            <div class="col-lg-2"></div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">게시물 삭제</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    게시물을 정말 삭제하시겠습니까?
                </div>
                <div class="modal-footer">
                    <a class="btn btn-primary active" type="button"  href="#" th:href="@{/board-delete(boardId=${board.getId()},
                    boardName=${board.getBoardName()})}">확인</a>
                    <a type="button" class="btn btn-secondary" data-dismiss="modal">취소</a>
                </div>
            </div>
        </div>
    </div>
    <div th:replace="fragments :: footer"></div>
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
</body>
</html>